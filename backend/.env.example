# ════════════════════════════════════════════════════════════════
# ContainerHub Backend - Environment Variables Template
# ════════════════════════════════════════════════════════════════
# 
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Fill in your actual values (never commit .env to git)
# 3. Get free API keys from links below
#
# ════════════════════════════════════════════════════════════════

# ────────────────────────────────────────────────────────────────
# Application Config
# ────────────────────────────────────────────────────────────────
NODE_ENV=development
PORT=3001
FRONTEND_URL=http://localhost:3000

# ────────────────────────────────────────────────────────────────
# Database (PostgreSQL)
# ────────────────────────────────────────────────────────────────
# Local development (Docker Compose):
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/containerhub

# Production (Supabase - Free Tier):
# Get from: https://supabase.com/dashboard/project/_/settings/database
# DATABASE_URL=postgresql://postgres:[password]@[host].supabase.co:5432/postgres

# ────────────────────────────────────────────────────────────────
# Redis Cache & Sessions
# ────────────────────────────────────────────────────────────────
# Local development (Docker Compose):
REDIS_URL=redis://localhost:6379

# Production (Upstash - Free Tier):
# Get from: https://console.upstash.com/redis
# REDIS_URL=rediss://default:[password]@[host].upstash.io:6379

# ────────────────────────────────────────────────────────────────
# Authentication & Security
# ────────────────────────────────────────────────────────────────
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_256_bit_secret_key_here_change_this_in_production
JWT_EXPIRY=15m
REFRESH_TOKEN_EXPIRY=7d

# Bcrypt rounds (higher = more secure but slower)
BCRYPT_ROUNDS=10

# ────────────────────────────────────────────────────────────────
# Claude API (AI Code Reviews)
# ────────────────────────────────────────────────────────────────
# Get from: https://console.anthropic.com/settings/keys
# Free tier: $5 credit for testing
CLAUDE_API_KEY=sk-ant-api03-XXXXXXXXXXXXXXXXXXXXXXXX
CLAUDE_MODEL=claude-3-5-sonnet-20241022
CLAUDE_MAX_TOKENS=2048

# Mock mode for local development (set to 'true' to skip real API calls)
CLAUDE_MOCK_MODE=true

# ────────────────────────────────────────────────────────────────
# SendGrid (Email Verification & Notifications)
# ────────────────────────────────────────────────────────────────
# Get from: https://app.sendgrid.com/settings/api_keys
# Free tier: 100 emails/day
SENDGRID_API_KEY=SG.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
SENDGRID_FROM_EMAIL=noreply@containerhub.app
SENDGRID_FROM_NAME=ContainerHub

# Mock mode for local development (set to 'true' to console.log instead)
SENDGRID_MOCK_MODE=true

# ────────────────────────────────────────────────────────────────
# GitHub OAuth (Social Login)
# ────────────────────────────────────────────────────────────────
# Get from: https://github.com/settings/developers
# Create OAuth App with callback: http://localhost:3001/auth/github/callback
GITHUB_CLIENT_ID=your_github_client_id_here
GITHUB_CLIENT_SECRET=your_github_client_secret_here
GITHUB_CALLBACK_URL=http://localhost:3001/auth/github/callback

# ────────────────────────────────────────────────────────────────
# Stripe (Future - Payment Processing)
# ────────────────────────────────────────────────────────────────
# Get from: https://dashboard.stripe.com/test/apikeys
# Use test mode keys (sk_test_...)
# STRIPE_SECRET_KEY=sk_test_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
# STRIPE_WEBHOOK_SECRET=whsec_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ────────────────────────────────────────────────────────────────
# Monitoring & Error Tracking
# ────────────────────────────────────────────────────────────────
# Sentry (Error tracking)
# Get from: https://sentry.io/settings/projects/
# SENTRY_DSN=https://XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX@sentry.io/XXXXXXX

# ────────────────────────────────────────────────────────────────
# Rate Limiting
# ────────────────────────────────────────────────────────────────
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ────────────────────────────────────────────────────────────────
# Code Execution Sandbox (Security)
# ────────────────────────────────────────────────────────────────
CODE_EXECUTION_TIMEOUT_MS=5000
CODE_EXECUTION_MEMORY_LIMIT_MB=256
CODE_EXECUTION_CPU_LIMIT=1

# ────────────────────────────────────────────────────────────────
# Logging
# ────────────────────────────────────────────────────────────────
LOG_LEVEL=debug
LOG_FORMAT=json

# ════════════════════════════════════════════════════════════════
# SECURITY REMINDER:
# - NEVER commit .env to git
# - ALWAYS use .env.example as template
# - ROTATE secrets in production regularly
# - USE strong, unique secrets for production
# ════════════════════════════════════════════════════════════════
